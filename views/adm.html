<div ng-include="config.route + '/views/header.html'"></div>
<div ng-include="config.route + '/views/userBar.html'"></div>
<div ng-if="tab!='start'" ng-include="config.route + '/views/smallMenu.html'"></div>
<div class="adm">
    <!-- start -->
    <div class="row text-center" ng-show="tab=='start'">
        <h1>Panel Administracyjny</h1>
        {{ dd }}
        <form role="form" ng-submit="formcalendarS()">
            <div class="form-group" ng-init="formcalendar">
                <label for="datadod">Test calendar</label>
                <span ng-calendar val="dd" field="'datadod'"></span>
            </div>
            <div class="form-actions">
                <button type="submit" ng-disabled="formMl.$invalid || dataLoading" class="btn btn-primary">Zmień</button>
            </div>
        </form>
    </div>
    <div class="admMainMenu row" ng-show="tab=='start'">
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Konferencje</h3>
                </div>
                <div class="panel-body">
                    <ul>
                        <li><a ng-click="setTab('listProject')">Lista konferencji</a></li>
                        <li><a ng-click="setTab('newProject')">Nowa konferencja</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Użytkownicy</h3>
                </div>
                <div class="panel-body">
                    <ul>
                        <li><a ng-click="setTab('listUser')">Lista użytkowników</a></li>
                        <li><a ng-click="setTab('newUser')">Dodaj użytkownika</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Dodatki</h3>
                </div>
                <div class="panel-body">
                    <ul>
                        <li><a ng-click="setTab('guest')">Lista Gości</a></li>
                        <li><a ng-click="setTab('lecturer')">Lista Wykładowców</a></li>
                        <li><a ng-click="setTab('places')">Miejsca</a></li>
                        <li><a ng-click="setTab('contractors')">Lista podwykonawców</a></li>
                        <li><a ng-click="setTab('newContractor')">Dodaj podwykonawę</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Ustawienia</h3>
                </div>
                <div class="panel-body">
                    <ul>
                        <li><a ng-click="setTab('listAdmin')">Lista Administratorów</a></li>
                        <li><a ng-click="setTab('addAdmin')">Dodaj Administratora</a></li>
                        <li><a ng-click="setTab('basicData')">Podstawowe dane</a></li>
                        <li><a ng-click="setTab('lang')">Opcje językowe</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- elements -->
    <div class="elements row" ng-show="tab!='start'">
        <!-- Nowa Konferencja -->
        <div class="col-md-12" ng-show="tab=='newProject'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Nowa Konferencja</h3>
                </div>
                <div class="panel-body">
                    <div ng-show="newProject.error" class="alert alert-danger">{{newProject.error}}</div>
                    <div ng-show="newProject.success" class="alert alert-success">{{newProject.success}}</div>
                    <form name="newProject" ng-submit="newProjectS()" role="form">
                        <div class="form-group">
                            <label for="name">Nazwa projektu</label>
                            <input type="text" name="name" id="name" class="form-control" ng-model="newProject.projectName" required/>
                        </div>
                        <div class="form-actions">
                            <button type="submit" ng-disabled="newProject.$invalid || dataLoading" class="btn btn-primary">Utwórz</button>
                            <img ng-if="dataLoading" src="lic/images/loading.gif"  />
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Lista konferencji -->
        <div class="col-md-12" ng-show="tab=='listProject'" >
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Lista konferencji</h3>
                </div>
                <div class="panel-body">
                    <div ng-tab tab="listProject" cols="listProjectCols" limit="10" callback-fn="editProject(id)"></div>
                </div>
            </div>
        </div>
        <!-- Lista użytkowników -->
        <div class="col-md-12" ng-show="tab=='listUser'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Lista użytkowników</h3>
                </div>
                <div class="panel-body">
                    <div ng-tab tab="listUsers" cols="listUsersCols" limit="10" callback-fn="editUser(id)"></div>
                </div>
            </div>
        </div>
        <!-- Dodaj użytkownika -->
        <div class="col-md-12" ng-show="tab=='newUser'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Dodaj użytkownika</h3>
                </div>
                <div class="panel-body">
                    blablabla
                </div>
            </div>
        </div>
        <!-- Goście -->
        <div class="col-md-12" ng-show="tab=='guest'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Goście</h3>
                </div>
                <div class="panel-body">
                    <div ng-tab tab="listGuests" cols="listUsersCols" limit="10" callback-fn="editUser(id)"></div>
                </div>
            </div>
        </div>
        <!-- Miejsca -->
        <div class="col-md-12" ng-show="tab=='places'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Miejsca</h3>
                </div>
                <div class="panel-body">
                    blablabla
                </div>
            </div>
        </div>
        <!-- Wykładowcy -->
        <div class="col-md-12" ng-show="tab=='lecturer'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Wykładowcy</h3>
                </div>
                <div class="panel-body">
                    <div ng-tab tab="listLecturers" cols="listUsersCols" limit="10" callback-fn="editUser(id)"></div>
                </div>
            </div>
        </div>
        <!-- Podwykonawcy -->
        <div class="col-md-12" ng-show="tab=='contractors'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Podwykonawcy</h3>
                </div>
                <div class="panel-body">
                    <div ng-tab tab="listContractors" cols="contractorsCols" limit="10" callback-fn="editContractor(id)"></div>
                </div>
            </div>
        </div>
        <!-- dodaj Podwykonawe -->
        <div class="col-md-12" ng-show="tab=='newContractor'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Dodaj nowego podwykonawę</h3>
                </div>
                <div class="panel-body">
                    <div ng-show="newContractorD.error" class="alert alert-danger">{{newContractorD.error}}</div>
                    <div ng-show="newContractorD.success" class="alert alert-success">{{newContractorD.success}}</div>
                    <form name="newContractor" ng-submit="newContractorS()" role="form" class="col-md-6 col-md-offset-1" ng-init="newContractorD['type']='contractor'">
                        <div class="form-group col-md-12">
                            <label for="name">Nazwa</label>
                            <input type="text" name="name" id="name" class="form-control" ng-model="newContractorD.contractorname" required/>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="servicetype">Typ</label>
                            <select name="servicetype" id="servicetype" class="form-control" ng-model="newContractorD.servicetype" required>
                                <option>Sala konferencyjna</option>
                                <option>Catering</option>
                                <option>Obsługa Audiowizualna</option>
                                <option>Inne</option>
                            </select>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="description">Opis</label>
                            <textarea name="description" id="description" class="form-control" rows="3" ng-model="newContractorD.contractordescription"></textarea>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="street">Ulica i numer</label>
                            <input type="text" name="street" id="street" class="form-control" ng-model="newContractorD.street" />
                        </div>
                        <div class="form-group col-md-4">
                            <label for="kode">Kod Pocztowy</label>
                            <input type="text" name="kode" id="kode" class="form-control" ng-model="newContractorD.kode" />
                        </div>
                        <div class="form-group col-md-8">
                            <label for="city">Miejscowość</label>
                            <input type="text" name="city" id="city" class="form-control" ng-model="newContractorD.city" />
                        </div>
                        <div class="form-group col-md-6">
                            <label for="nip">NIP</label>
                            <input type="text" name="nip" id="nip" class="form-control" ng-model="newContractorD.nip" />
                        </div>
                        <div class="form-group col-md-6">
                            <label for="regon">REGON</label>
                            <input type="text" name="regon" id="regon" class="form-control" ng-model="newContractorD.regon" />
                        </div>
                        <div class="form-actions">
                            <button type="submit" ng-disabled="newContractor.$invalid || dataLoading" class="btn btn-primary">Utwórz</button>
                            <img ng-if="dataLoading" src="lic/images/loading.gif"  />
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Administratorzy -->
        <div class="col-md-12" ng-show="tab=='listAdmin'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Administratorzy</h3>
                </div>
                <div class="panel-body">
                    <div ng-tab tab="listAdmins" cols="listUsersCols" limit="10" callback-fn="editUser(id)"></div>
                </div>
            </div>
        </div>
        <!-- Dodaj Administratora -->
        <div class="col-md-12" ng-show="tab=='addAdmin'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Dodaj Administratora</h3>
                </div>
                <div class="panel-body">
                    blablabla
                </div>
            </div>
        </div>
        <!-- Podstawowe dane -->
        <div class="col-md-12" ng-show="tab=='basicData'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Podstawowe dane</h3>
                </div>
                <div class="panel-body">
                    blablabla
                </div>
            </div>
        </div>
        <!-- Opcje językowe -->
        <div class="col-md-12" ng-show="tab=='lang'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Opcje językowe</h3>
                </div>
                <div class="panel-body">
                    blablabla
                </div>
            </div>
        </div>
        <!-- Edycja użytkownika -->
        <div class="col-md-12" ng-if="tab=='editUser'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Edycja użytkownika: {{ singleUser[0].name }} {{ singleUser[0].surname }} (id:{{ singleUser[0].id }})<a ng-click="setTab('listUser')"><span class="pull-right glyphicon glyphicon-remove"></span></a></h3>
                </div>
                <div class="panel-body">
                    <div class=" col-md-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">Etykietka</h4>
                            </div>
                            <div class="panel-body">
                                <table class="table">
                                    <tr>
                                        <td>Id</td>
                                        <td>{{ singleUser[0].id }}</td>
                                    </tr>
                                    <tr>
                                        <td>Typ konta</td>
                                        <td>
                                            <span ng-if="singleUser[0].type=='admin'">Administrator</span>
                                            <span ng-if="singleUser[0].type=='user'">Użytkownik</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Login</td>
                                        <td>{{ singleUser[0].username }}</td>
                                    </tr>
                                    <tr ng-repeat="userData in config.userDataFilds">
                                        <td>{{ userData.label }}</td>
                                        <td>{{ singleUser[0][userData.name] }}</td>
                                    </tr>
                                    <tr>
                                        <td>Ostatnie logowanie</td>
                                        <td>{{ singleUser[0].lastlogin | date:'dd/MM/yyyy HH:mm:ss' }}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-6">
                        Jakieś opcje
                    </div>
                </div>
            </div>
        </div>
        <!-- Edycja projektu -->
        <div class="col-md-12" ng-if="tab=='editProject'" ng-include="config.route + '/views/projectEdit.html'"></div>
        <!-- Edycja podwykonawcy -->
        <div class="col-md-12" ng-if="tab=='editContractor'">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Edycja Podwykonawcy: {{ singleContractor[0].name }} (id:{{ singleContractor[0].id }})<a ng-click="setTab('contractors')"><span class="pull-right glyphicon glyphicon-remove"></span></a></h3>
                </div>
                <div class="panel-body">
                    <div class=" col-md-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">Etykietka</h4>
                            </div>
                            <div class="panel-body">
                                <table class="table">
                                    <tr>
                                        <td>Id</td>
                                        <td>{{ singleContractor[0].id }}</td>
                                    </tr>
                                    <tr>
                                        <td>Typ</td>
                                        <td>
                                            {{ singleContractor[0].servicetype }}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Opis</td>
                                        <td>{{ singleContractor[0].description }}</td>
                                    </tr>
                                    <tr>
                                        <td>Adres</td>
                                        <td>{{ singleContractor[0].street }}, {{ singleContractor[0].kode }} {{ singleContractor[0].city }}</td>
                                    </tr>
                                    <tr>
                                        <td>NIP</td>
                                        <td>{{ singleContractor[0].nip }}</td>
                                    </tr>
                                    <tr>
                                        <td>REGON</td>
                                        <td>{{ singleContractor[0].regon }}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-6">
                        Jakieś opcje
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-include="config.route + '/views/footer.html'"></div>